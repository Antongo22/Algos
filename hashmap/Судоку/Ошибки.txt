В начале хотел все по функциям и проверять в каждой в начале строки, потом колонки, потом блоки. Потом понял, что можно просто в одном цикле. 
Ошибки были в том, что в одном месте не там скобку поставил, в другом вместо i, написал l. Потом оказалось, что на месте l должна была стоять j)